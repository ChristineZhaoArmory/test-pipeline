{
  "appConfig": {},
  "keepWaitingPipelines": false,
  "lastModifiedBy": "anonymous",
  "limitConcurrent": true,
  "parameterConfig": [
    {
      "default": "deployment%20the-deployment",
      "description": "",
      "hasOptions": false,
      "label": "clusterName",
      "name": "clusterName",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "http://localhost:8084/",
      "description": "http://localhost:8084/webjars/swagger-ui/index.html?url=/v2/api-docs&configUrl=/swagger-resources/configuration/ui",
      "hasOptions": false,
      "label": "GATE_URL",
      "name": "GATE_URL",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "spinnaker",
      "description": "",
      "hasOptions": false,
      "label": "account",
      "name": "account",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "one",
      "description": "",
      "hasOptions": false,
      "label": "application",
      "name": "application",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "the-deployment",
      "description": "",
      "hasOptions": false,
      "label": "DEPLOYMENT",
      "name": "DEPLOYMENT",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "the-service",
      "description": "",
      "hasOptions": false,
      "label": "SERVICE",
      "name": "SERVICE",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "the-map",
      "description": "",
      "hasOptions": false,
      "label": "CONFIGMAP",
      "name": "CONFIGMAP",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "christine-demo",
      "description": "",
      "hasOptions": false,
      "label": "TARGET_NAMESPACE",
      "name": "TARGET_NAMESPACE",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "https://github.com/ChristineZhaoArmory/one-step",
      "description": "",
      "hasOptions": false,
      "label": "BAKE_URL",
      "name": "BAKE_URL",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "main",
      "description": "",
      "hasOptions": false,
      "label": "BAKE_BRANCH",
      "name": "BAKE_BRANCH",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "helloWorld",
      "description": "",
      "hasOptions": false,
      "label": "BAKE_SUBPATH",
      "name": "BAKE_SUBPATH",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": false
    },
    {
      "default": "<your image path>/christine-ecr:v1.0",
      "description": "",
      "hasOptions": false,
      "label": "IMAGE_PATH",
      "name": "IMAGE_PATH",
      "options": [
        {
          "value": ""
        }
      ],
      "pinned": false,
      "required": true
    }
  ],
  "schema": "1",
  "spelEvaluator": "v4",
  "stages": [
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "customKind": true,
            "id": "d4c9552b-d83b-463c-8ea7-a0fbff6f4fd7"
          },
          "displayName": "hot-lionfish-54",
          "id": "fe49610a-1c20-4352-8c56-1739765cce41",
          "matchArtifact": {
            "artifactAccount": "embedded-artifact",
            "customKind": false,
            "id": "809d8029-2886-44dc-a426-8f534e290583",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "failPipeline": false,
      "inputArtifact": {
        "account": "gitrepo",
        "artifact": {
          "artifactAccount": "gitrepo",
          "customKind": true,
          "id": "20b1fbfc-a06d-4bd9-9768-6389d85ba09b",
          "location": "${parameters.BAKE_SUBPATH}",
          "reference": "${parameters.BAKE_URL}",
          "type": "git/repo",
          "version": "${parameters.BAKE_BRANCH}"
        }
      },
      "kustomizeFilePath": "helloWorld/kustomization.yaml",
      "name": "Bake KUSTOMIZE",
      "overrides": {},
      "refId": "1",
      "requisiteStageRefIds": [],
      "restrictExecutionDuringTimeWindow": false,
      "restrictedExecutionWindow": {
        "days": [
          1,
          2,
          3,
          4,
          6,
          7,
          5
        ],
        "whitelist": []
      },
      "templateRenderer": "KUSTOMIZE",
      "type": "bakeManifest"
    },
    {
      "account": "spinnaker",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "manifestArtifactId": "fe49610a-1c20-4352-8c56-1739765cce41",
      "moniker": {
        "app": "one"
      },
      "name": "Deploy 1",
      "namespaceOverride": "${parameters.TARGET_NAMESPACE}",
      "refId": "2",
      "requiredArtifactIds": [],
      "requiredArtifacts": [],
      "requisiteStageRefIds": [
        "1"
      ],
      "skipExpressionEvaluation": true,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false
        }
      },
      "type": "deployManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E10",
      "refId": "3",
      "requisiteStageRefIds": [
        "2"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "manifests",
          "value": "${#stage(\"Deploy 1\").outputs.manifests}"
        },
        {
          "key": "output",
          "value": "${#stage(\"Deploy 1\").outputs}"
        },
        {
          "key": "artifacts",
          "value": "${#stage(\"Deploy 1\").outputs.artifacts}"
        },
        {
          "key": "abc",
          "value": "${#stage(\"Deploy 1\").outputs}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook11",
      "refId": "4",
      "requisiteStageRefIds": [
        "3"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}/${parameters.clusterName}",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E11",
      "refId": "5",
      "requisiteStageRefIds": [
        "4"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook11",
          "value": "${#stage(\"Webhook11\").context.webhook.body}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook12",
      "refId": "6",
      "requisiteStageRefIds": [
        "5"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E12",
      "refId": "7",
      "requisiteStageRefIds": [
        "6"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook12",
          "value": "${#stage(\"Webhook12\").context.webhook.body}"
        }
      ]
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "deployment ${parameters.DEPLOYMENT}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "8",
      "requisiteStageRefIds": [
        "7"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "service ${parameters.SERVICE}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "9",
      "requisiteStageRefIds": [
        "8"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "configMap ${parameters.CONFIGMAP}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "10",
      "requisiteStageRefIds": [
        "9"
      ],
      "type": "deleteManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "customKind": true,
            "id": "d4c9552b-d83b-463c-8ea7-a0fbff6f4fd7"
          },
          "displayName": "hot-lionfish-54",
          "id": "fe49610a-1c20-4352-8c56-1739765cce41",
          "matchArtifact": {
            "artifactAccount": "embedded-artifact",
            "customKind": false,
            "id": "809d8029-2886-44dc-a426-8f534e290583",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "failPipeline": false,
      "inputArtifact": {
        "account": "gitrepo",
        "artifact": {
          "artifactAccount": "gitrepo",
          "customKind": true,
          "id": "20b1fbfc-a06d-4bd9-9768-6389d85ba09b",
          "location": "${parameters.BAKE_SUBPATH}",
          "reference": "${parameters.BAKE_URL}",
          "type": "git/repo",
          "version": "${parameters.BAKE_BRANCH}"
        }
      },
      "kustomizeFilePath": "helloWorld/kustomization.yaml",
      "name": "Bake KUSTOMIZE",
      "overrides": {},
      "refId": "11",
      "requisiteStageRefIds": [
        "10"
      ],
      "restrictExecutionDuringTimeWindow": false,
      "restrictedExecutionWindow": {
        "days": [
          1,
          2,
          3,
          4,
          6,
          7,
          5
        ],
        "whitelist": []
      },
      "templateRenderer": "KUSTOMIZE",
      "type": "bakeManifest"
    },
    {
      "account": "spinnaker",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "manifestArtifactId": "fe49610a-1c20-4352-8c56-1739765cce41",
      "moniker": {
        "app": "one"
      },
      "name": "Deploy 2",
      "namespaceOverride": "${parameters.TARGET_NAMESPACE}",
      "refId": "12",
      "requiredArtifactIds": [],
      "requiredArtifacts": [],
      "requisiteStageRefIds": [
        "11"
      ],
      "skipExpressionEvaluation": true,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false
        }
      },
      "type": "deployManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E20",
      "refId": "13",
      "requisiteStageRefIds": [
        "12"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "manifests",
          "value": "${#stage(\"Deploy 2\").outputs.manifests}"
        },
        {
          "key": "output",
          "value": "${#stage(\"Deploy 2\").outputs}"
        },
        {
          "key": "artifacts",
          "value": "${#stage(\"Deploy 2\").outputs.artifacts}"
        },
        {
          "key": "abc",
          "value": "${#stage(\"Deploy 2\").outputs}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook21",
      "refId": "14",
      "requisiteStageRefIds": [
        "13"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}/${parameters.clusterName}",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E21",
      "refId": "15",
      "requisiteStageRefIds": [
        "14"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook21",
          "value": "${#stage(\"Webhook21\").context.webhook.body}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook22",
      "refId": "16",
      "requisiteStageRefIds": [
        "15"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E22",
      "refId": "17",
      "requisiteStageRefIds": [
        "16"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook22",
          "value": "${#stage(\"Webhook22\").context.webhook.body}"
        }
      ]
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "deployment ${parameters.DEPLOYMENT}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "18",
      "requisiteStageRefIds": [
        "17"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "service ${parameters.SERVICE}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "19",
      "requisiteStageRefIds": [
        "18"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "configMap ${parameters.CONFIGMAP}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "20",
      "requisiteStageRefIds": [
        "19"
      ],
      "type": "deleteManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "customKind": true,
            "id": "d4c9552b-d83b-463c-8ea7-a0fbff6f4fd7"
          },
          "displayName": "hot-lionfish-54",
          "id": "fe49610a-1c20-4352-8c56-1739765cce41",
          "matchArtifact": {
            "artifactAccount": "embedded-artifact",
            "customKind": false,
            "id": "809d8029-2886-44dc-a426-8f534e290583",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "failPipeline": false,
      "inputArtifact": {
        "account": "gitrepo",
        "artifact": {
          "artifactAccount": "gitrepo",
          "customKind": true,
          "id": "20b1fbfc-a06d-4bd9-9768-6389d85ba09b",
          "location": "${parameters.BAKE_SUBPATH}",
          "reference": "${parameters.BAKE_URL}",
          "type": "git/repo",
          "version": "${parameters.BAKE_BRANCH}"
        }
      },
      "kustomizeFilePath": "helloWorld/kustomization.yaml",
      "name": "Bake KUSTOMIZE",
      "overrides": {},
      "refId": "21",
      "requisiteStageRefIds": [
        "20"
      ],
      "restrictExecutionDuringTimeWindow": false,
      "restrictedExecutionWindow": {
        "days": [
          1,
          2,
          3,
          4,
          6,
          7,
          5
        ],
        "whitelist": []
      },
      "templateRenderer": "KUSTOMIZE",
      "type": "bakeManifest"
    },
    {
      "account": "spinnaker",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "manifestArtifactId": "fe49610a-1c20-4352-8c56-1739765cce41",
      "moniker": {
        "app": "one"
      },
      "name": "Deploy 3",
      "namespaceOverride": "${parameters.TARGET_NAMESPACE}",
      "refId": "22",
      "requiredArtifactIds": [],
      "requiredArtifacts": [],
      "requisiteStageRefIds": [
        "21"
      ],
      "skipExpressionEvaluation": true,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false
        }
      },
      "type": "deployManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E30",
      "refId": "23",
      "requisiteStageRefIds": [
        "22"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "manifests",
          "value": "${#stage(\"Deploy 3\").outputs.manifests}"
        },
        {
          "key": "output",
          "value": "${#stage(\"Deploy 3\").outputs}"
        },
        {
          "key": "artifacts",
          "value": "${#stage(\"Deploy 3\").outputs.artifacts}"
        },
        {
          "key": "abc",
          "value": "${#stage(\"Deploy 3\").outputs}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook31",
      "refId": "24",
      "requisiteStageRefIds": [
        "23"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}/${parameters.clusterName}",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E31",
      "refId": "25",
      "requisiteStageRefIds": [
        "24"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook31",
          "value": "${#stage(\"Webhook31\").context.webhook.body}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook32",
      "refId": "26",
      "requisiteStageRefIds": [
        "25"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E32",
      "refId": "27",
      "requisiteStageRefIds": [
        "26"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook32",
          "value": "${#stage(\"Webhook32\").context.webhook.body}"
        }
      ]
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "deployment ${parameters.DEPLOYMENT}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "28",
      "requisiteStageRefIds": [
        "27"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "service ${parameters.SERVICE}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "29",
      "requisiteStageRefIds": [
        "28"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "configMap ${parameters.CONFIGMAP}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "30",
      "requisiteStageRefIds": [
        "29"
      ],
      "type": "deleteManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "customKind": true,
            "id": "d4c9552b-d83b-463c-8ea7-a0fbff6f4fd7"
          },
          "displayName": "hot-lionfish-54",
          "id": "fe49610a-1c20-4352-8c56-1739765cce41",
          "matchArtifact": {
            "artifactAccount": "embedded-artifact",
            "customKind": false,
            "id": "809d8029-2886-44dc-a426-8f534e290583",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "failPipeline": false,
      "inputArtifact": {
        "account": "gitrepo",
        "artifact": {
          "artifactAccount": "gitrepo",
          "customKind": true,
          "id": "20b1fbfc-a06d-4bd9-9768-6389d85ba09b",
          "location": "${parameters.BAKE_SUBPATH}",
          "reference": "${parameters.BAKE_URL}",
          "type": "git/repo",
          "version": "${parameters.BAKE_BRANCH}"
        }
      },
      "kustomizeFilePath": "helloWorld/kustomization.yaml",
      "name": "Bake KUSTOMIZE",
      "overrides": {},
      "refId": "31",
      "requisiteStageRefIds": [
        "30"
      ],
      "restrictExecutionDuringTimeWindow": false,
      "restrictedExecutionWindow": {
        "days": [
          1,
          2,
          3,
          4,
          6,
          7,
          5
        ],
        "whitelist": []
      },
      "templateRenderer": "KUSTOMIZE",
      "type": "bakeManifest"
    },
    {
      "account": "spinnaker",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "manifestArtifactId": "fe49610a-1c20-4352-8c56-1739765cce41",
      "moniker": {
        "app": "one"
      },
      "name": "Deploy 4",
      "namespaceOverride": "${parameters.TARGET_NAMESPACE}",
      "refId": "32",
      "requiredArtifactIds": [],
      "requiredArtifacts": [],
      "requisiteStageRefIds": [
        "31"
      ],
      "skipExpressionEvaluation": true,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false
        }
      },
      "type": "deployManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E40",
      "refId": "33",
      "requisiteStageRefIds": [
        "32"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "manifests",
          "value": "${#stage(\"Deploy 4\").outputs.manifests}"
        },
        {
          "key": "output",
          "value": "${#stage(\"Deploy 4\").outputs}"
        },
        {
          "key": "artifacts",
          "value": "${#stage(\"Deploy 4\").outputs.artifacts}"
        },
        {
          "key": "abc",
          "value": "${#stage(\"Deploy 4\").outputs}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook41",
      "refId": "34",
      "requisiteStageRefIds": [
        "33"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}/${parameters.clusterName}",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E41",
      "refId": "35",
      "requisiteStageRefIds": [
        "34"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook31",
          "value": "${#stage(\"Webhook41\").context.webhook.body}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook42",
      "refId": "36",
      "requisiteStageRefIds": [
        "35"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E42",
      "refId": "37",
      "requisiteStageRefIds": [
        "36"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook42",
          "value": "${#stage(\"Webhook42\").context.webhook.body}"
        }
      ]
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "deployment ${parameters.DEPLOYMENT}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "38",
      "requisiteStageRefIds": [
        "37"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "service ${parameters.SERVICE}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "39",
      "requisiteStageRefIds": [
        "38"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "configMap ${parameters.CONFIGMAP}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "40",
      "requisiteStageRefIds": [
        "39"
      ],
      "type": "deleteManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "customKind": true,
            "id": "d4c9552b-d83b-463c-8ea7-a0fbff6f4fd7"
          },
          "displayName": "hot-lionfish-54",
          "id": "fe49610a-1c20-4352-8c56-1739765cce41",
          "matchArtifact": {
            "artifactAccount": "embedded-artifact",
            "customKind": false,
            "id": "809d8029-2886-44dc-a426-8f534e290583",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "failPipeline": false,
      "inputArtifact": {
        "account": "gitrepo",
        "artifact": {
          "artifactAccount": "gitrepo",
          "customKind": true,
          "id": "20b1fbfc-a06d-4bd9-9768-6389d85ba09b",
          "location": "${parameters.BAKE_SUBPATH}",
          "reference": "${parameters.BAKE_URL}",
          "type": "git/repo",
          "version": "${parameters.BAKE_BRANCH}"
        }
      },
      "kustomizeFilePath": "helloWorld/kustomization.yaml",
      "name": "Bake KUSTOMIZE",
      "overrides": {},
      "refId": "41",
      "requisiteStageRefIds": [
        "40"
      ],
      "restrictExecutionDuringTimeWindow": false,
      "restrictedExecutionWindow": {
        "days": [
          1,
          2,
          3,
          4,
          6,
          7,
          5
        ],
        "whitelist": []
      },
      "templateRenderer": "KUSTOMIZE",
      "type": "bakeManifest"
    },
    {
      "account": "spinnaker",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "manifestArtifactId": "fe49610a-1c20-4352-8c56-1739765cce41",
      "moniker": {
        "app": "one"
      },
      "name": "Deploy 5",
      "namespaceOverride": "${parameters.TARGET_NAMESPACE}",
      "refId": "42",
      "requiredArtifactIds": [],
      "requiredArtifacts": [],
      "requisiteStageRefIds": [
        "41"
      ],
      "skipExpressionEvaluation": true,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false
        }
      },
      "type": "deployManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E50",
      "refId": "43",
      "requisiteStageRefIds": [
        "42"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "manifests",
          "value": "${#stage(\"Deploy 5\").outputs.manifests}"
        },
        {
          "key": "output",
          "value": "${#stage(\"Deploy 5\").outputs}"
        },
        {
          "key": "artifacts",
          "value": "${#stage(\"Deploy 5\").outputs.artifacts}"
        },
        {
          "key": "abc",
          "value": "${#stage(\"Deploy 5\").outputs}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook51",
      "refId": "44",
      "requisiteStageRefIds": [
        "43"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}/${parameters.clusterName}",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E51",
      "refId": "45",
      "requisiteStageRefIds": [
        "44"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook51",
          "value": "${#stage(\"Webhook51\").context.webhook.body}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook52",
      "refId": "46",
      "requisiteStageRefIds": [
        "45"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E52",
      "refId": "47",
      "requisiteStageRefIds": [
        "46"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook52",
          "value": "${#stage(\"Webhook52\").context.webhook.body}"
        }
      ]
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "deployment ${parameters.DEPLOYMENT}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "48",
      "requisiteStageRefIds": [
        "47"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "service ${parameters.SERVICE}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "49",
      "requisiteStageRefIds": [
        "48"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "configMap ${parameters.CONFIGMAP}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "50",
      "requisiteStageRefIds": [
        "49"
      ],
      "type": "deleteManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "customKind": true,
            "id": "d4c9552b-d83b-463c-8ea7-a0fbff6f4fd7"
          },
          "displayName": "hot-lionfish-54",
          "id": "fe49610a-1c20-4352-8c56-1739765cce41",
          "matchArtifact": {
            "artifactAccount": "embedded-artifact",
            "customKind": false,
            "id": "809d8029-2886-44dc-a426-8f534e290583",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "failPipeline": false,
      "inputArtifact": {
        "account": "gitrepo",
        "artifact": {
          "artifactAccount": "gitrepo",
          "customKind": true,
          "id": "20b1fbfc-a06d-4bd9-9768-6389d85ba09b",
          "location": "${parameters.BAKE_SUBPATH}",
          "reference": "${parameters.BAKE_URL}",
          "type": "git/repo",
          "version": "${parameters.BAKE_BRANCH}"
        }
      },
      "kustomizeFilePath": "helloWorld/kustomization.yaml",
      "name": "Bake KUSTOMIZE",
      "overrides": {},
      "refId": "51",
      "requisiteStageRefIds": [
        "50"
      ],
      "restrictExecutionDuringTimeWindow": false,
      "restrictedExecutionWindow": {
        "days": [
          1,
          2,
          3,
          4,
          6,
          7,
          5
        ],
        "whitelist": []
      },
      "templateRenderer": "KUSTOMIZE",
      "type": "bakeManifest"
    },
    {
      "account": "spinnaker",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "manifestArtifactId": "fe49610a-1c20-4352-8c56-1739765cce41",
      "moniker": {
        "app": "one"
      },
      "name": "Deploy 6",
      "namespaceOverride": "${parameters.TARGET_NAMESPACE}",
      "refId": "52",
      "requiredArtifactIds": [],
      "requiredArtifacts": [],
      "requisiteStageRefIds": [
        "51"
      ],
      "skipExpressionEvaluation": true,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false
        }
      },
      "type": "deployManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E60",
      "refId": "53",
      "requisiteStageRefIds": [
        "52"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "manifests",
          "value": "${#stage(\"Deploy 6\").outputs.manifests}"
        },
        {
          "key": "output",
          "value": "${#stage(\"Deploy 6\").outputs}"
        },
        {
          "key": "artifacts",
          "value": "${#stage(\"Deploy 6\").outputs.artifacts}"
        },
        {
          "key": "abc",
          "value": "${#stage(\"Deploy 6\").outputs}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook61",
      "refId": "54",
      "requisiteStageRefIds": [
        "53"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}/${parameters.clusterName}",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E61",
      "refId": "55",
      "requisiteStageRefIds": [
        "54"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook61",
          "value": "${#stage(\"Webhook61\").context.webhook.body}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook62",
      "refId": "56",
      "requisiteStageRefIds": [
        "55"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E62",
      "refId": "57",
      "requisiteStageRefIds": [
        "56"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook62",
          "value": "${#stage(\"Webhook62\").context.webhook.body}"
        }
      ]
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "deployment ${parameters.DEPLOYMENT}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "58",
      "requisiteStageRefIds": [
        "57"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "service ${parameters.SERVICE}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "59",
      "requisiteStageRefIds": [
        "58"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "configMap ${parameters.CONFIGMAP}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "60",
      "requisiteStageRefIds": [
        "59"
      ],
      "type": "deleteManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "customKind": true,
            "id": "d4c9552b-d83b-463c-8ea7-a0fbff6f4fd7"
          },
          "displayName": "hot-lionfish-54",
          "id": "fe49610a-1c20-4352-8c56-1739765cce41",
          "matchArtifact": {
            "artifactAccount": "embedded-artifact",
            "customKind": false,
            "id": "809d8029-2886-44dc-a426-8f534e290583",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "failPipeline": false,
      "inputArtifact": {
        "account": "gitrepo",
        "artifact": {
          "artifactAccount": "gitrepo",
          "customKind": true,
          "id": "20b1fbfc-a06d-4bd9-9768-6389d85ba09b",
          "location": "${parameters.BAKE_SUBPATH}",
          "reference": "${parameters.BAKE_URL}",
          "type": "git/repo",
          "version": "${parameters.BAKE_BRANCH}"
        }
      },
      "kustomizeFilePath": "helloWorld/kustomization.yaml",
      "name": "Bake KUSTOMIZE",
      "overrides": {},
      "refId": "61",
      "requisiteStageRefIds": [
        "60"
      ],
      "restrictExecutionDuringTimeWindow": false,
      "restrictedExecutionWindow": {
        "days": [
          1,
          2,
          3,
          4,
          6,
          7,
          5
        ],
        "whitelist": []
      },
      "templateRenderer": "KUSTOMIZE",
      "type": "bakeManifest"
    },
    {
      "account": "spinnaker",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "manifestArtifactId": "fe49610a-1c20-4352-8c56-1739765cce41",
      "moniker": {
        "app": "one"
      },
      "name": "Deploy 7",
      "namespaceOverride": "${parameters.TARGET_NAMESPACE}",
      "refId": "62",
      "requiredArtifactIds": [],
      "requiredArtifacts": [],
      "requisiteStageRefIds": [
        "61"
      ],
      "skipExpressionEvaluation": true,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false
        }
      },
      "type": "deployManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E70",
      "refId": "63",
      "requisiteStageRefIds": [
        "62"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "manifests",
          "value": "${#stage(\"Deploy 7\").outputs.manifests}"
        },
        {
          "key": "output",
          "value": "${#stage(\"Deploy 7\").outputs}"
        },
        {
          "key": "artifacts",
          "value": "${#stage(\"Deploy 7\").outputs.artifacts}"
        },
        {
          "key": "abc",
          "value": "${#stage(\"Deploy 7\").outputs}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook71",
      "refId": "64",
      "requisiteStageRefIds": [
        "63"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}/${parameters.clusterName}",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E71",
      "refId": "65",
      "requisiteStageRefIds": [
        "64"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook61",
          "value": "${#stage(\"Webhook61\").context.webhook.body}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook72",
      "refId": "66",
      "requisiteStageRefIds": [
        "65"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E72",
      "refId": "67",
      "requisiteStageRefIds": [
        "66"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook72",
          "value": "${#stage(\"Webhook72\").context.webhook.body}"
        }
      ]
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "deployment ${parameters.DEPLOYMENT}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "68",
      "requisiteStageRefIds": [
        "67"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "service ${parameters.SERVICE}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "69",
      "requisiteStageRefIds": [
        "68"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "configMap ${parameters.CONFIGMAP}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "70",
      "requisiteStageRefIds": [
        "69"
      ],
      "type": "deleteManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "customKind": true,
            "id": "d4c9552b-d83b-463c-8ea7-a0fbff6f4fd7"
          },
          "displayName": "hot-lionfish-54",
          "id": "fe49610a-1c20-4352-8c56-1739765cce41",
          "matchArtifact": {
            "artifactAccount": "embedded-artifact",
            "customKind": false,
            "id": "809d8029-2886-44dc-a426-8f534e290583",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "failPipeline": false,
      "inputArtifact": {
        "account": "gitrepo",
        "artifact": {
          "artifactAccount": "gitrepo",
          "customKind": true,
          "id": "20b1fbfc-a06d-4bd9-9768-6389d85ba09b",
          "location": "${parameters.BAKE_SUBPATH}",
          "reference": "${parameters.BAKE_URL}",
          "type": "git/repo",
          "version": "${parameters.BAKE_BRANCH}"
        }
      },
      "kustomizeFilePath": "helloWorld/kustomization.yaml",
      "name": "Bake KUSTOMIZE",
      "overrides": {},
      "refId": "71",
      "requisiteStageRefIds": [
        "70"
      ],
      "restrictExecutionDuringTimeWindow": false,
      "restrictedExecutionWindow": {
        "days": [
          1,
          2,
          3,
          4,
          6,
          7,
          5
        ],
        "whitelist": []
      },
      "templateRenderer": "KUSTOMIZE",
      "type": "bakeManifest"
    },
    {
      "account": "spinnaker",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "manifestArtifactId": "fe49610a-1c20-4352-8c56-1739765cce41",
      "moniker": {
        "app": "one"
      },
      "name": "Deploy 8",
      "namespaceOverride": "${parameters.TARGET_NAMESPACE}",
      "refId": "72",
      "requiredArtifactIds": [],
      "requiredArtifacts": [],
      "requisiteStageRefIds": [
        "71"
      ],
      "skipExpressionEvaluation": true,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false
        }
      },
      "type": "deployManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E80",
      "refId": "73",
      "requisiteStageRefIds": [
        "72"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "manifests",
          "value": "${#stage(\"Deploy 8\").outputs.manifests}"
        },
        {
          "key": "output",
          "value": "${#stage(\"Deploy 8\").outputs}"
        },
        {
          "key": "artifacts",
          "value": "${#stage(\"Deploy 8\").outputs.artifacts}"
        },
        {
          "key": "abc",
          "value": "${#stage(\"Deploy 8\").outputs}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook81",
      "refId": "74",
      "requisiteStageRefIds": [
        "73"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}/${parameters.clusterName}",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E81",
      "refId": "75",
      "requisiteStageRefIds": [
        "74"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook81",
          "value": "${#stage(\"Webhook81\").context.webhook.body}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook82",
      "refId": "76",
      "requisiteStageRefIds": [
        "75"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E82",
      "refId": "77",
      "requisiteStageRefIds": [
        "76"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook82",
          "value": "${#stage(\"Webhook82\").context.webhook.body}"
        }
      ]
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "deployment ${parameters.DEPLOYMENT}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "78",
      "requisiteStageRefIds": [
        "77"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "service ${parameters.SERVICE}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "79",
      "requisiteStageRefIds": [
        "78"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "configMap ${parameters.CONFIGMAP}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "80",
      "requisiteStageRefIds": [
        "79"
      ],
      "type": "deleteManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "customKind": true,
            "id": "d4c9552b-d83b-463c-8ea7-a0fbff6f4fd7"
          },
          "displayName": "hot-lionfish-54",
          "id": "fe49610a-1c20-4352-8c56-1739765cce41",
          "matchArtifact": {
            "artifactAccount": "embedded-artifact",
            "customKind": false,
            "id": "809d8029-2886-44dc-a426-8f534e290583",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "failPipeline": false,
      "inputArtifact": {
        "account": "gitrepo",
        "artifact": {
          "artifactAccount": "gitrepo",
          "customKind": true,
          "id": "20b1fbfc-a06d-4bd9-9768-6389d85ba09b",
          "location": "${parameters.BAKE_SUBPATH}",
          "reference": "${parameters.BAKE_URL}",
          "type": "git/repo",
          "version": "${parameters.BAKE_BRANCH}"
        }
      },
      "kustomizeFilePath": "helloWorld/kustomization.yaml",
      "name": "Bake KUSTOMIZE",
      "overrides": {},
      "refId": "81",
      "requisiteStageRefIds": [
        "80"
      ],
      "restrictExecutionDuringTimeWindow": false,
      "restrictedExecutionWindow": {
        "days": [
          1,
          2,
          3,
          4,
          6,
          7,
          5
        ],
        "whitelist": []
      },
      "templateRenderer": "KUSTOMIZE",
      "type": "bakeManifest"
    },
    {
      "account": "spinnaker",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "manifestArtifactId": "fe49610a-1c20-4352-8c56-1739765cce41",
      "moniker": {
        "app": "one"
      },
      "name": "Deploy 9",
      "namespaceOverride": "${parameters.TARGET_NAMESPACE}",
      "refId": "82",
      "requiredArtifactIds": [],
      "requiredArtifacts": [],
      "requisiteStageRefIds": [
        "81"
      ],
      "skipExpressionEvaluation": true,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false
        }
      },
      "type": "deployManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E90",
      "refId": "83",
      "requisiteStageRefIds": [
        "82"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "manifests",
          "value": "${#stage(\"Deploy 9\").outputs.manifests}"
        },
        {
          "key": "output",
          "value": "${#stage(\"Deploy 9\").outputs}"
        },
        {
          "key": "artifacts",
          "value": "${#stage(\"Deploy 9\").outputs.artifacts}"
        },
        {
          "key": "abc",
          "value": "${#stage(\"Deploy 9\").outputs}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook91",
      "refId": "84",
      "requisiteStageRefIds": [
        "83"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}/${parameters.clusterName}",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E91",
      "refId": "85",
      "requisiteStageRefIds": [
        "84"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook91",
          "value": "${#stage(\"Webhook91\").context.webhook.body}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook92",
      "refId": "86",
      "requisiteStageRefIds": [
        "85"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E92",
      "refId": "87",
      "requisiteStageRefIds": [
        "86"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook92",
          "value": "${#stage(\"Webhook92\").context.webhook.body}"
        }
      ]
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "deployment ${parameters.DEPLOYMENT}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "88",
      "requisiteStageRefIds": [
        "87"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "service ${parameters.SERVICE}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "89",
      "requisiteStageRefIds": [
        "88"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "configMap ${parameters.CONFIGMAP}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "90",
      "requisiteStageRefIds": [
        "89"
      ],
      "type": "deleteManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "expectedArtifacts": [
        {
          "defaultArtifact": {
            "customKind": true,
            "id": "d4c9552b-d83b-463c-8ea7-a0fbff6f4fd7"
          },
          "displayName": "hot-lionfish-54",
          "id": "fe49610a-1c20-4352-8c56-1739765cce41",
          "matchArtifact": {
            "artifactAccount": "embedded-artifact",
            "customKind": false,
            "id": "809d8029-2886-44dc-a426-8f534e290583",
            "type": "embedded/base64"
          },
          "useDefaultArtifact": false,
          "usePriorArtifact": false
        }
      ],
      "failPipeline": false,
      "inputArtifact": {
        "account": "gitrepo",
        "artifact": {
          "artifactAccount": "gitrepo",
          "customKind": true,
          "id": "20b1fbfc-a06d-4bd9-9768-6389d85ba09b",
          "location": "${parameters.BAKE_SUBPATH}",
          "reference": "${parameters.BAKE_URL}",
          "type": "git/repo",
          "version": "${parameters.BAKE_BRANCH}"
        }
      },
      "kustomizeFilePath": "helloWorld/kustomization.yaml",
      "name": "Bake KUSTOMIZE",
      "overrides": {},
      "refId": "91",
      "requisiteStageRefIds": [
        "90"
      ],
      "restrictExecutionDuringTimeWindow": false,
      "restrictedExecutionWindow": {
        "days": [
          1,
          2,
          3,
          4,
          6,
          7,
          5
        ],
        "whitelist": []
      },
      "templateRenderer": "KUSTOMIZE",
      "type": "bakeManifest"
    },
    {
      "account": "spinnaker",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "manifestArtifactId": "fe49610a-1c20-4352-8c56-1739765cce41",
      "moniker": {
        "app": "one"
      },
      "name": "Deploy 10",
      "namespaceOverride": "${parameters.TARGET_NAMESPACE}",
      "refId": "92",
      "requiredArtifactIds": [],
      "requiredArtifacts": [],
      "requisiteStageRefIds": [
        "91"
      ],
      "skipExpressionEvaluation": true,
      "source": "artifact",
      "trafficManagement": {
        "enabled": false,
        "options": {
          "enableTraffic": false
        }
      },
      "type": "deployManifest"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E100",
      "refId": "93",
      "requisiteStageRefIds": [
        "92"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "manifests",
          "value": "${#stage(\"Deploy 10\").outputs.manifests}"
        },
        {
          "key": "output",
          "value": "${#stage(\"Deploy 10\").outputs}"
        },
        {
          "key": "artifacts",
          "value": "${#stage(\"Deploy 10\").outputs.artifacts}"
        },
        {
          "key": "abc",
          "value": "${#stage(\"Deploy 10\").outputs}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook101",
      "refId": "94",
      "requisiteStageRefIds": [
        "93"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}/${parameters.clusterName}",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E101",
      "refId": "95",
      "requisiteStageRefIds": [
        "94"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook101",
          "value": "${#stage(\"Webhook101\").context.webhook.body}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "method": "GET",
      "name": "Webhook102",
      "refId": "96",
      "requisiteStageRefIds": [
        "95"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/${parameters.application}/clusters/${parameters.account}"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "E102",
      "refId": "97",
      "requisiteStageRefIds": [
        "96"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "Webhook102",
          "value": "${#stage(\"Webhook102\").context.webhook.body}"
        }
      ]
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "deployment ${parameters.DEPLOYMENT}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "98",
      "requisiteStageRefIds": [
        "97"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "service ${parameters.SERVICE}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "99",
      "requisiteStageRefIds": [
        "98"
      ],
      "type": "deleteManifest"
    },
    {
      "account": "spinnaker",
      "app": "one",
      "cloudProvider": "kubernetes",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "location": "${parameters.TARGET_NAMESPACE}",
      "manifestName": "configMap ${parameters.CONFIGMAP}",
      "mode": "static",
      "name": "Delete (Manifest)",
      "options": {
        "cascading": true
      },
      "refId": "100",
      "requisiteStageRefIds": [
        "99"
      ],
      "type": "deleteManifest"
    },
    {
      "cloudProvider": "ecs",
      "cloudProviderType": "ecs",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "imageLabelOrSha": "${parameters.IMAGE_PATH}",
      "name": "Find Image from Tags",
      "refId": "102",
      "requisiteStageRefIds": [],
      "type": "findImageFromTags"
    },
    {
      "clusters": [
        {
          "account": "christine-ecs",
          "application": "servergroup",
          "availabilityZones": {
            "us-east-2": [
              "us-east-2a",
              "us-east-2b",
              "us-east-2c"
            ]
          },
          "capacity": {
            "desired": 1,
            "max": 1,
            "min": 1
          },
          "capacityProviderStrategy": [],
          "cloudProvider": "ecs",
          "computeUnits": 256,
          "copySourceScalingPoliciesAndActions": true,
          "dockerImageCredentialsSecret": "None (No registry credentials)",
          "dockerLabels": {},
          "ecsClusterName": "christine-ecs",
          "environmentVariables": {},
          "healthCheckGracePeriodSeconds": "",
          "healthCheckType": "EC2",
          "iamRole": "aws-spin-support-managedrole",
          "imageDescription": {
            "fromContext": true,
            "imageId": "${parameters.IMAGE_PATH}",
            "imageLabelOrSha": "${parameters.IMAGE_PATH}",
            "stageId": "2"
          },
          "launchType": "FARGATE",
          "loadBalancers": [],
          "moniker": {
            "app": "servergroup",
            "stack": "kb"
          },
          "networkMode": "awsvpc",
          "placementConstraints": [],
          "placementStrategyName": "",
          "placementStrategySequence": [],
          "preferSourceCapacity": true,
          "provider": "ecs",
          "reservedMemory": 1024,
          "securityGroupNames": [],
          "serviceDiscoveryAssociations": [],
          "stack": "kb",
          "strategy": "",
          "subnetType": "",
          "subnetTypes": [
            "support-cluster"
          ],
          "tags": {},
          "targetGroup": "",
          "targetGroupMappings": [],
          "taskDefinitionArtifact": {},
          "useSourceCapacity": true,
          "useTaskDefinitionArtifact": false
        }
      ],
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": false,
      "failPipeline": false,
      "name": "Deploy",
      "refId": "103",
      "requisiteStageRefIds": [
        "102",
        "106"
      ],
      "stageTimeoutMs": 60000,
      "type": "deploy"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateDeploy",
      "refId": "104",
      "requisiteStageRefIds": [
        "1011"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "deploy",
          "value": "${#stage(\"Deploy\").context}"
        },
        {
          "key": "errorCreated",
          "value": "${delta > 0}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "WebhookBefore",
      "refId": "105",
      "requisiteStageRefIds": [],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/servergroup/serverGroups",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateWebhook",
      "refId": "106",
      "requisiteStageRefIds": [
        "105"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "alreadyDeployedBeforeRun",
          "value": "${#stage(\"WebhookBefore\").context.webhook.body}"
        },
        {
          "key": "sizeOfAlready",
          "value": "${alreadyDeployedBeforeRun.size()}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckErrorCreated",
      "preconditions": [
        {
          "context": {
            "expression": "${errorCreated}"
          },
          "failPipeline": false,
          "type": "expression"
        }
      ],
      "refId": "107",
      "requisiteStageRefIds": [
        "104"
      ],
      "type": "checkPreconditions"
    },
    {
      "cloudProvider": "ecs",
      "cloudProviderType": "ecs",
      "cluster": "servergroup-kb",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "credentials": "christine-ecs",
      "failPipeline": false,
      "moniker": {
        "app": "servergroup",
        "cluster": "servergroup-kb",
        "stack": "kb"
      },
      "name": "Destroy Server Group",
      "refId": "108",
      "regions": [
        "us-east-2"
      ],
      "requisiteStageRefIds": [
        "107"
      ],
      "target": "current_asg_dynamic",
      "type": "destroyServerGroup"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckNoErrorCreated",
      "preconditions": [
        {
          "context": {
            "expression": "${!errorCreated}"
          },
          "failPipeline": false,
          "type": "expression"
        }
      ],
      "refId": "109",
      "requisiteStageRefIds": [
        "104"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "method": "GET",
      "name": "WebhookAfter",
      "refId": "1010",
      "requisiteStageRefIds": [
        "1012"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/servergroup/serverGroups",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateWebhookAfter",
      "refId": "1011",
      "requisiteStageRefIds": [
        "1010"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "afterDeployServerGroup",
          "value": "${#stage(\"WebhookAfter\").context.webhook.body}"
        },
        {
          "key": "after_body0_name",
          "value": "${afterDeployServerGroup[0].name}"
        },
        {
          "key": "sizeOfAfter",
          "value": "${afterDeployServerGroup.size()}"
        },
        {
          "key": "delta",
          "value": "${sizeOfAfter-sizeOfAlready}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckDeployFail",
      "preconditions": [
        {
          "context": {
            "stageName": "Deploy",
            "stageStatus": "FAILED_CONTINUE"
          },
          "failPipeline": true,
          "type": "stageStatus"
        }
      ],
      "refId": "1012",
      "requisiteStageRefIds": [
        "103"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckSuccessByClusterSize",
      "preconditions": [
        {
          "cloudProvider": "ecs",
          "context": {
            "cluster": "servergroup-kb",
            "comparison": ">=",
            "credentials": "christine-ecs",
            "expected": 8,
            "moniker": {
              "app": "servergroup",
              "cluster": "servergroup-kb",
              "stack": "kb"
            },
            "regions": [
              "us-east-2"
            ]
          },
          "failPipeline": true,
          "type": "clusterSize"
        }
      ],
      "refId": "1013",
      "requisiteStageRefIds": [
        "103"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckSuccessByStageCondition",
      "preconditions": [
        {
          "context": {
            "stageName": "Deploy",
            "stageStatus": "SUCCEEDED"
          },
          "failPipeline": true,
          "type": "stageStatus"
        }
      ],
      "refId": "1015",
      "requisiteStageRefIds": [
        "103"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateForFun",
      "refId": "1017",
      "requisiteStageRefIds": [
        "1015"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "deployedServerGroup",
          "value": "${#deployedServerGroups()}"
        },
        {
          "key": "deployedServerGroupName",
          "value": "${deployedServerGroup[0].serverGroup}"
        },
        {
          "key": "includeNew",
          "value": "${alreadyDeployedBeforeRun.toString().contains(deployedServerGroupName)}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "Wait0",
      "refId": "1018",
      "requisiteStageRefIds": [
        "1013"
      ],
      "type": "wait",
      "waitTime": 3
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "name": "Wait1",
      "refId": "1019",
      "requisiteStageRefIds": [
        "108"
      ],
      "type": "wait",
      "waitTime": 3
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "name": "Wait2",
      "refId": "1020",
      "requisiteStageRefIds": [
        "109"
      ],
      "type": "wait",
      "waitTime": 30
    },
    {
      "cloudProvider": "ecs",
      "cloudProviderType": "ecs",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "imageLabelOrSha": "${parameters.IMAGE_PATH}",
      "name": "Find Image from Tags2",
      "refId": "1022",
      "requisiteStageRefIds": [
        "1019"
      ],
      "type": "findImageFromTags"
    },
    {
      "clusters": [
        {
          "account": "christine-ecs",
          "application": "servergroup",
          "availabilityZones": {
            "us-east-2": [
              "us-east-2a",
              "us-east-2b",
              "us-east-2c"
            ]
          },
          "capacity": {
            "desired": 1,
            "max": 1,
            "min": 1
          },
          "capacityProviderStrategy": [],
          "cloudProvider": "ecs",
          "computeUnits": 256,
          "copySourceScalingPoliciesAndActions": true,
          "dockerImageCredentialsSecret": "None (No registry credentials)",
          "dockerLabels": {},
          "ecsClusterName": "christine-ecs",
          "environmentVariables": {},
          "healthCheckGracePeriodSeconds": "",
          "healthCheckType": "EC2",
          "iamRole": "aws-spin-support-managedrole",
          "imageDescription": {
            "fromContext": true,
            "imageId": "${parameters.IMAGE_PATH}",
            "imageLabelOrSha": "${parameters.IMAGE_PATH}",
            "stageId": "2"
          },
          "launchType": "FARGATE",
          "loadBalancers": [],
          "moniker": {
            "app": "servergroup",
            "stack": "kb"
          },
          "networkMode": "awsvpc",
          "placementConstraints": [],
          "placementStrategyName": "",
          "placementStrategySequence": [],
          "preferSourceCapacity": true,
          "provider": "ecs",
          "reservedMemory": 1024,
          "securityGroupNames": [],
          "serviceDiscoveryAssociations": [],
          "stack": "kb",
          "strategy": "",
          "subnetType": "",
          "subnetTypes": [
            "support-cluster"
          ],
          "tags": {},
          "targetGroup": "",
          "targetGroupMappings": [],
          "taskDefinitionArtifact": {},
          "useSourceCapacity": true,
          "useTaskDefinitionArtifact": false
        }
      ],
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": false,
      "failPipeline": false,
      "name": "Deploy2",
      "refId": "1023",
      "requisiteStageRefIds": [
        "1022",
        "1026"
      ],
      "stageTimeoutMs": 60000,
      "type": "deploy"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateDeploy2",
      "refId": "1024",
      "requisiteStageRefIds": [
        "1031"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "deploy",
          "value": "${#stage(\"Deploy\").context}"
        },
        {
          "key": "errorCreated",
          "value": "${delta > 0}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "WebhookBefore2",
      "refId": "1025",
      "requisiteStageRefIds": [
        "1019"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/servergroup/serverGroups",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateWebhook2",
      "refId": "1026",
      "requisiteStageRefIds": [
        "1025"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "alreadyDeployedBeforeRun",
          "value": "${#stage(\"WebhookBefore\").context.webhook.body}"
        },
        {
          "key": "sizeOfAlready",
          "value": "${alreadyDeployedBeforeRun.size()}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckErrorCreated2",
      "preconditions": [
        {
          "context": {
            "expression": "${errorCreated}"
          },
          "failPipeline": false,
          "type": "expression"
        }
      ],
      "refId": "1027",
      "requisiteStageRefIds": [
        "1024"
      ],
      "type": "checkPreconditions"
    },
    {
      "cloudProvider": "ecs",
      "cloudProviderType": "ecs",
      "cluster": "servergroup-kb",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "credentials": "christine-ecs",
      "failPipeline": false,
      "moniker": {
        "app": "servergroup",
        "cluster": "servergroup-kb",
        "stack": "kb"
      },
      "name": "Destroy Server Group2",
      "refId": "1028",
      "regions": [
        "us-east-2"
      ],
      "requisiteStageRefIds": [
        "1027"
      ],
      "target": "current_asg_dynamic",
      "type": "destroyServerGroup"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckNoErrorCreated2",
      "preconditions": [
        {
          "context": {
            "expression": "${!errorCreated}"
          },
          "failPipeline": false,
          "type": "expression"
        }
      ],
      "refId": "1029",
      "requisiteStageRefIds": [
        "1024"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "method": "GET",
      "name": "WebhookAfter2",
      "refId": "1030",
      "requisiteStageRefIds": [
        "1032"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/servergroup/serverGroups",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateWebhookAfter2",
      "refId": "1031",
      "requisiteStageRefIds": [
        "1030"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "afterDeployServerGroup",
          "value": "${#stage(\"WebhookAfter\").context.webhook.body}"
        },
        {
          "key": "after_body0_name",
          "value": "${afterDeployServerGroup[0].name}"
        },
        {
          "key": "sizeOfAfter",
          "value": "${afterDeployServerGroup.size()}"
        },
        {
          "key": "delta",
          "value": "${sizeOfAfter-sizeOfAlready}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckDeployFail22",
      "preconditions": [
        {
          "context": {
            "stageName": "Deploy",
            "stageStatus": "FAILED_CONTINUE"
          },
          "failPipeline": true,
          "type": "stageStatus"
        }
      ],
      "refId": "1032",
      "requisiteStageRefIds": [
        "1023"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckSuccessByClusterSize2",
      "preconditions": [
        {
          "cloudProvider": "ecs",
          "context": {
            "cluster": "servergroup-kb",
            "comparison": ">=",
            "credentials": "christine-ecs",
            "expected": 8,
            "moniker": {
              "app": "servergroup",
              "cluster": "servergroup-kb",
              "stack": "kb"
            },
            "regions": [
              "us-east-2"
            ]
          },
          "failPipeline": true,
          "type": "clusterSize"
        }
      ],
      "refId": "1033",
      "requisiteStageRefIds": [
        "1023"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckSuccessByStageCondition2",
      "preconditions": [
        {
          "context": {
            "stageName": "Deploy",
            "stageStatus": "SUCCEEDED"
          },
          "failPipeline": true,
          "type": "stageStatus"
        }
      ],
      "refId": "1035",
      "requisiteStageRefIds": [
        "1023"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateForFun2",
      "refId": "1037",
      "requisiteStageRefIds": [
        "1035"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "deployedServerGroup",
          "value": "${#deployedServerGroups()}"
        },
        {
          "key": "deployedServerGroupName",
          "value": "${deployedServerGroup[0].serverGroup}"
        },
        {
          "key": "includeNew",
          "value": "${alreadyDeployedBeforeRun.toString().contains(deployedServerGroupName)}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "Wait02",
      "refId": "1038",
      "requisiteStageRefIds": [
        "1033"
      ],
      "type": "wait",
      "waitTime": 3
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "name": "Wait12",
      "refId": "1039",
      "requisiteStageRefIds": [
        "1028"
      ],
      "type": "wait",
      "waitTime": 3
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "name": "Wait22",
      "refId": "1040",
      "requisiteStageRefIds": [
        "1029"
      ],
      "type": "wait",
      "waitTime": 30
    },
    {
      "cloudProvider": "ecs",
      "cloudProviderType": "ecs",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "imageLabelOrSha": "${parameters.IMAGE_PATH}",
      "name": "Find Image from Tags4",
      "refId": "1042",
      "requisiteStageRefIds": [
        "1039"
      ],
      "type": "findImageFromTags"
    },
    {
      "clusters": [
        {
          "account": "christine-ecs",
          "application": "servergroup",
          "availabilityZones": {
            "us-east-2": [
              "us-east-2a",
              "us-east-2b",
              "us-east-2c"
            ]
          },
          "capacity": {
            "desired": 1,
            "max": 1,
            "min": 1
          },
          "capacityProviderStrategy": [],
          "cloudProvider": "ecs",
          "computeUnits": 256,
          "copySourceScalingPoliciesAndActions": true,
          "dockerImageCredentialsSecret": "None (No registry credentials)",
          "dockerLabels": {},
          "ecsClusterName": "christine-ecs",
          "environmentVariables": {},
          "healthCheckGracePeriodSeconds": "",
          "healthCheckType": "EC2",
          "iamRole": "aws-spin-support-managedrole",
          "imageDescription": {
            "fromContext": true,
            "imageId": "${parameters.IMAGE_PATH}",
            "imageLabelOrSha": "${parameters.IMAGE_PATH}",
            "stageId": "2"
          },
          "launchType": "FARGATE",
          "loadBalancers": [],
          "moniker": {
            "app": "servergroup",
            "stack": "kb"
          },
          "networkMode": "awsvpc",
          "placementConstraints": [],
          "placementStrategyName": "",
          "placementStrategySequence": [],
          "preferSourceCapacity": true,
          "provider": "ecs",
          "reservedMemory": 1024,
          "securityGroupNames": [],
          "serviceDiscoveryAssociations": [],
          "stack": "kb",
          "strategy": "",
          "subnetType": "",
          "subnetTypes": [
            "support-cluster"
          ],
          "tags": {},
          "targetGroup": "",
          "targetGroupMappings": [],
          "taskDefinitionArtifact": {},
          "useSourceCapacity": true,
          "useTaskDefinitionArtifact": false
        }
      ],
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": false,
      "failPipeline": false,
      "name": "Deploy4",
      "refId": "1043",
      "requisiteStageRefIds": [
        "1042",
        "1046"
      ],
      "stageTimeoutMs": 60000,
      "type": "deploy"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateDeploy4",
      "refId": "1044",
      "requisiteStageRefIds": [
        "1051"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "deploy",
          "value": "${#stage(\"Deploy\").context}"
        },
        {
          "key": "errorCreated",
          "value": "${delta > 0}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "WebhookBefore4",
      "refId": "1045",
      "requisiteStageRefIds": [
        "1039"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/servergroup/serverGroups",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateWebhook4",
      "refId": "1046",
      "requisiteStageRefIds": [
        "1045"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "alreadyDeployedBeforeRun",
          "value": "${#stage(\"WebhookBefore\").context.webhook.body}"
        },
        {
          "key": "sizeOfAlready",
          "value": "${alreadyDeployedBeforeRun.size()}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckErrorCreated4",
      "preconditions": [
        {
          "context": {
            "expression": "${errorCreated}"
          },
          "failPipeline": false,
          "type": "expression"
        }
      ],
      "refId": "1047",
      "requisiteStageRefIds": [
        "1044"
      ],
      "type": "checkPreconditions"
    },
    {
      "cloudProvider": "ecs",
      "cloudProviderType": "ecs",
      "cluster": "servergroup-kb",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "credentials": "christine-ecs",
      "failPipeline": false,
      "moniker": {
        "app": "servergroup",
        "cluster": "servergroup-kb",
        "stack": "kb"
      },
      "name": "Destroy Server Group4",
      "refId": "1048",
      "regions": [
        "us-east-2"
      ],
      "requisiteStageRefIds": [
        "1047"
      ],
      "target": "current_asg_dynamic",
      "type": "destroyServerGroup"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckNoErrorCreated4",
      "preconditions": [
        {
          "context": {
            "expression": "${!errorCreated}"
          },
          "failPipeline": false,
          "type": "expression"
        }
      ],
      "refId": "1049",
      "requisiteStageRefIds": [
        "1044"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "method": "GET",
      "name": "WebhookAfter4",
      "refId": "1050",
      "requisiteStageRefIds": [
        "1052"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/servergroup/serverGroups",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateWebhookAfter4",
      "refId": "1051",
      "requisiteStageRefIds": [
        "1050"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "afterDeployServerGroup",
          "value": "${#stage(\"WebhookAfter\").context.webhook.body}"
        },
        {
          "key": "after_body0_name",
          "value": "${afterDeployServerGroup[0].name}"
        },
        {
          "key": "sizeOfAfter",
          "value": "${afterDeployServerGroup.size()}"
        },
        {
          "key": "delta",
          "value": "${sizeOfAfter-sizeOfAlready}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckDeployFail4",
      "preconditions": [
        {
          "context": {
            "stageName": "Deploy",
            "stageStatus": "FAILED_CONTINUE"
          },
          "failPipeline": true,
          "type": "stageStatus"
        }
      ],
      "refId": "1052",
      "requisiteStageRefIds": [
        "1043"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckSuccessByClusterSize4",
      "preconditions": [
        {
          "cloudProvider": "ecs",
          "context": {
            "cluster": "servergroup-kb",
            "comparison": ">=",
            "credentials": "christine-ecs",
            "expected": 8,
            "moniker": {
              "app": "servergroup",
              "cluster": "servergroup-kb",
              "stack": "kb"
            },
            "regions": [
              "us-east-2"
            ]
          },
          "failPipeline": true,
          "type": "clusterSize"
        }
      ],
      "refId": "1053",
      "requisiteStageRefIds": [
        "1043"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckSuccessByStageCondition4",
      "preconditions": [
        {
          "context": {
            "stageName": "Deploy",
            "stageStatus": "SUCCEEDED"
          },
          "failPipeline": true,
          "type": "stageStatus"
        }
      ],
      "refId": "1055",
      "requisiteStageRefIds": [
        "1043"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateForFun4",
      "refId": "1057",
      "requisiteStageRefIds": [
        "1055"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "deployedServerGroup",
          "value": "${#deployedServerGroups()}"
        },
        {
          "key": "deployedServerGroupName",
          "value": "${deployedServerGroup[0].serverGroup}"
        },
        {
          "key": "includeNew",
          "value": "${alreadyDeployedBeforeRun.toString().contains(deployedServerGroupName)}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "Wait04",
      "refId": "1058",
      "requisiteStageRefIds": [
        "1053"
      ],
      "type": "wait",
      "waitTime": 3
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "name": "Wait14",
      "refId": "1059",
      "requisiteStageRefIds": [
        "1048"
      ],
      "type": "wait",
      "waitTime": 3
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "name": "Wait24",
      "refId": "1060",
      "requisiteStageRefIds": [
        "1049"
      ],
      "type": "wait",
      "waitTime": 30
    },
    {
      "cloudProvider": "ecs",
      "cloudProviderType": "ecs",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "imageLabelOrSha": "${parameters.IMAGE_PATH}",
      "name": "Find Image from Tags6",
      "refId": "1062",
      "requisiteStageRefIds": [
        "1059"
      ],
      "type": "findImageFromTags"
    },
    {
      "clusters": [
        {
          "account": "christine-ecs",
          "application": "servergroup",
          "availabilityZones": {
            "us-east-2": [
              "us-east-2a",
              "us-east-2b",
              "us-east-2c"
            ]
          },
          "capacity": {
            "desired": 1,
            "max": 1,
            "min": 1
          },
          "capacityProviderStrategy": [],
          "cloudProvider": "ecs",
          "computeUnits": 256,
          "copySourceScalingPoliciesAndActions": true,
          "dockerImageCredentialsSecret": "None (No registry credentials)",
          "dockerLabels": {},
          "ecsClusterName": "christine-ecs",
          "environmentVariables": {},
          "healthCheckGracePeriodSeconds": "",
          "healthCheckType": "EC2",
          "iamRole": "aws-spin-support-managedrole",
          "imageDescription": {
            "fromContext": true,
            "imageId": "${parameters.IMAGE_PATH}",
            "imageLabelOrSha": "${parameters.IMAGE_PATH}",
            "stageId": "2"
          },
          "launchType": "FARGATE",
          "loadBalancers": [],
          "moniker": {
            "app": "servergroup",
            "stack": "kb"
          },
          "networkMode": "awsvpc",
          "placementConstraints": [],
          "placementStrategyName": "",
          "placementStrategySequence": [],
          "preferSourceCapacity": true,
          "provider": "ecs",
          "reservedMemory": 1024,
          "securityGroupNames": [],
          "serviceDiscoveryAssociations": [],
          "stack": "kb",
          "strategy": "",
          "subnetType": "",
          "subnetTypes": [
            "support-cluster"
          ],
          "tags": {},
          "targetGroup": "",
          "targetGroupMappings": [],
          "taskDefinitionArtifact": {},
          "useSourceCapacity": true,
          "useTaskDefinitionArtifact": false
        }
      ],
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": false,
      "failPipeline": false,
      "name": "Deploy6",
      "refId": "1063",
      "requisiteStageRefIds": [
        "1062",
        "1066"
      ],
      "stageTimeoutMs": 60000,
      "type": "deploy"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateDeploy6",
      "refId": "1064",
      "requisiteStageRefIds": [
        "1071"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "deploy",
          "value": "${#stage(\"Deploy\").context}"
        },
        {
          "key": "errorCreated",
          "value": "${delta > 0}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "WebhookBefore6",
      "refId": "1065",
      "requisiteStageRefIds": [
        "1059"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/servergroup/serverGroups",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateWebhook6",
      "refId": "1066",
      "requisiteStageRefIds": [
        "1065"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "alreadyDeployedBeforeRun",
          "value": "${#stage(\"WebhookBefore\").context.webhook.body}"
        },
        {
          "key": "sizeOfAlready",
          "value": "${alreadyDeployedBeforeRun.size()}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckErrorCreated6",
      "preconditions": [
        {
          "context": {
            "expression": "${errorCreated}"
          },
          "failPipeline": false,
          "type": "expression"
        }
      ],
      "refId": "1067",
      "requisiteStageRefIds": [
        "1064"
      ],
      "type": "checkPreconditions"
    },
    {
      "cloudProvider": "ecs",
      "cloudProviderType": "ecs",
      "cluster": "servergroup-kb",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "credentials": "christine-ecs",
      "failPipeline": false,
      "moniker": {
        "app": "servergroup",
        "cluster": "servergroup-kb",
        "stack": "kb"
      },
      "name": "Destroy Server Group6",
      "refId": "1068",
      "regions": [
        "us-east-2"
      ],
      "requisiteStageRefIds": [
        "1067"
      ],
      "target": "current_asg_dynamic",
      "type": "destroyServerGroup"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckNoErrorCreated",
      "preconditions": [
        {
          "context": {
            "expression": "${!errorCreated}"
          },
          "failPipeline": false,
          "type": "expression"
        }
      ],
      "refId": "1069",
      "requisiteStageRefIds": [
        "1064"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "method": "GET",
      "name": "WebhookAfter6",
      "refId": "1070",
      "requisiteStageRefIds": [
        "1072"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/servergroup/serverGroups",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateWebhookAfter6",
      "refId": "1071",
      "requisiteStageRefIds": [
        "1070"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "afterDeployServerGroup",
          "value": "${#stage(\"WebhookAfter\").context.webhook.body}"
        },
        {
          "key": "after_body0_name",
          "value": "${afterDeployServerGroup[0].name}"
        },
        {
          "key": "sizeOfAfter",
          "value": "${afterDeployServerGroup.size()}"
        },
        {
          "key": "delta",
          "value": "${sizeOfAfter-sizeOfAlready}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckDeployFail6",
      "preconditions": [
        {
          "context": {
            "stageName": "Deploy",
            "stageStatus": "FAILED_CONTINUE"
          },
          "failPipeline": true,
          "type": "stageStatus"
        }
      ],
      "refId": "1072",
      "requisiteStageRefIds": [
        "1063"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckSuccessByClusterSize6",
      "preconditions": [
        {
          "cloudProvider": "ecs",
          "context": {
            "cluster": "servergroup-kb",
            "comparison": ">=",
            "credentials": "christine-ecs",
            "expected": 8,
            "moniker": {
              "app": "servergroup",
              "cluster": "servergroup-kb",
              "stack": "kb"
            },
            "regions": [
              "us-east-2"
            ]
          },
          "failPipeline": true,
          "type": "clusterSize"
        }
      ],
      "refId": "1073",
      "requisiteStageRefIds": [
        "1063"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckSuccessByStageCondition",
      "preconditions": [
        {
          "context": {
            "stageName": "Deploy",
            "stageStatus": "SUCCEEDED"
          },
          "failPipeline": true,
          "type": "stageStatus"
        }
      ],
      "refId": "1075",
      "requisiteStageRefIds": [
        "1063"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateForFun6",
      "refId": "1077",
      "requisiteStageRefIds": [
        "1075"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "deployedServerGroup",
          "value": "${#deployedServerGroups()}"
        },
        {
          "key": "deployedServerGroupName",
          "value": "${deployedServerGroup[0].serverGroup}"
        },
        {
          "key": "includeNew",
          "value": "${alreadyDeployedBeforeRun.toString().contains(deployedServerGroupName)}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "Wait06",
      "refId": "1078",
      "requisiteStageRefIds": [
        "1073"
      ],
      "type": "wait",
      "waitTime": 3
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "name": "Wait16",
      "refId": "1079",
      "requisiteStageRefIds": [
        "1068"
      ],
      "type": "wait",
      "waitTime": 3
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "name": "Wait26",
      "refId": "1080",
      "requisiteStageRefIds": [
        "1069"
      ],
      "type": "wait",
      "waitTime": 30
    },
    {
      "cloudProvider": "ecs",
      "cloudProviderType": "ecs",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "imageLabelOrSha": "${parameters.IMAGE_PATH}",
      "name": "Find Image from Tags8",
      "refId": "1082",
      "requisiteStageRefIds": [
        "1079"
      ],
      "type": "findImageFromTags"
    },
    {
      "clusters": [
        {
          "account": "christine-ecs",
          "application": "servergroup",
          "availabilityZones": {
            "us-east-2": [
              "us-east-2a",
              "us-east-2b",
              "us-east-2c"
            ]
          },
          "capacity": {
            "desired": 1,
            "max": 1,
            "min": 1
          },
          "capacityProviderStrategy": [],
          "cloudProvider": "ecs",
          "computeUnits": 256,
          "copySourceScalingPoliciesAndActions": true,
          "dockerImageCredentialsSecret": "None (No registry credentials)",
          "dockerLabels": {},
          "ecsClusterName": "christine-ecs",
          "environmentVariables": {},
          "healthCheckGracePeriodSeconds": "",
          "healthCheckType": "EC2",
          "iamRole": "aws-spin-support-managedrole",
          "imageDescription": {
            "fromContext": true,
            "imageId": "${parameters.IMAGE_PATH}",
            "imageLabelOrSha": "${parameters.IMAGE_PATH}",
            "stageId": "2"
          },
          "launchType": "FARGATE",
          "loadBalancers": [],
          "moniker": {
            "app": "servergroup",
            "stack": "kb"
          },
          "networkMode": "awsvpc",
          "placementConstraints": [],
          "placementStrategyName": "",
          "placementStrategySequence": [],
          "preferSourceCapacity": true,
          "provider": "ecs",
          "reservedMemory": 1024,
          "securityGroupNames": [],
          "serviceDiscoveryAssociations": [],
          "stack": "kb",
          "strategy": "",
          "subnetType": "",
          "subnetTypes": [
            "support-cluster"
          ],
          "tags": {},
          "targetGroup": "",
          "targetGroupMappings": [],
          "taskDefinitionArtifact": {},
          "useSourceCapacity": true,
          "useTaskDefinitionArtifact": false
        }
      ],
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": false,
      "failPipeline": false,
      "name": "Deploy8",
      "refId": "1083",
      "requisiteStageRefIds": [
        "1082",
        "1086"
      ],
      "stageTimeoutMs": 60000,
      "type": "deploy"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateDeploy8",
      "refId": "1084",
      "requisiteStageRefIds": [
        "1091"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "deploy",
          "value": "${#stage(\"Deploy\").context}"
        },
        {
          "key": "errorCreated",
          "value": "${delta > 0}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failFastStatusCodes": [],
      "failPipeline": false,
      "method": "GET",
      "name": "WebhookBefore8",
      "refId": "1085",
      "requisiteStageRefIds": [
        "1079"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/servergroup/serverGroups",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateWebhook8",
      "refId": "1086",
      "requisiteStageRefIds": [
        "1085"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "alreadyDeployedBeforeRun",
          "value": "${#stage(\"WebhookBefore\").context.webhook.body}"
        },
        {
          "key": "sizeOfAlready",
          "value": "${alreadyDeployedBeforeRun.size()}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckErrorCreated8",
      "preconditions": [
        {
          "context": {
            "expression": "${errorCreated}"
          },
          "failPipeline": false,
          "type": "expression"
        }
      ],
      "refId": "1087",
      "requisiteStageRefIds": [
        "1084"
      ],
      "type": "checkPreconditions"
    },
    {
      "cloudProvider": "ecs",
      "cloudProviderType": "ecs",
      "cluster": "servergroup-kb",
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "credentials": "christine-ecs",
      "failPipeline": false,
      "moniker": {
        "app": "servergroup",
        "cluster": "servergroup-kb",
        "stack": "kb"
      },
      "name": "Destroy Server Group8",
      "refId": "1088",
      "regions": [
        "us-east-2"
      ],
      "requisiteStageRefIds": [
        "1087"
      ],
      "target": "current_asg_dynamic",
      "type": "destroyServerGroup"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckNoErrorCreated",
      "preconditions": [
        {
          "context": {
            "expression": "${!errorCreated}"
          },
          "failPipeline": false,
          "type": "expression"
        }
      ],
      "refId": "1089",
      "requisiteStageRefIds": [
        "1084"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failPipeline": false,
      "method": "GET",
      "name": "WebhookAfter8",
      "refId": "1090",
      "requisiteStageRefIds": [
        "1092"
      ],
      "statusUrlResolution": "getMethod",
      "type": "webhook",
      "url": "${parameters.GATE_URL}/applications/servergroup/serverGroups",
      "waitForCompletion": true
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": true,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateWebhookAfter8",
      "refId": "1091",
      "requisiteStageRefIds": [
        "1090"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "afterDeployServerGroup",
          "value": "${#stage(\"WebhookAfter\").context.webhook.body}"
        },
        {
          "key": "after_body0_name",
          "value": "${afterDeployServerGroup[0].name}"
        },
        {
          "key": "sizeOfAfter",
          "value": "${afterDeployServerGroup.size()}"
        },
        {
          "key": "delta",
          "value": "${sizeOfAfter-sizeOfAlready}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckDeployFail8",
      "preconditions": [
        {
          "context": {
            "stageName": "Deploy",
            "stageStatus": "FAILED_CONTINUE"
          },
          "failPipeline": true,
          "type": "stageStatus"
        }
      ],
      "refId": "1092",
      "requisiteStageRefIds": [
        "1083"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckSuccessByClusterSize8",
      "preconditions": [
        {
          "cloudProvider": "ecs",
          "context": {
            "cluster": "servergroup-kb",
            "comparison": ">=",
            "credentials": "christine-ecs",
            "expected": 8,
            "moniker": {
              "app": "servergroup",
              "cluster": "servergroup-kb",
              "stack": "kb"
            },
            "regions": [
              "us-east-2"
            ]
          },
          "failPipeline": true,
          "type": "clusterSize"
        }
      ],
      "refId": "1093",
      "requisiteStageRefIds": [
        "1083"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "CheckSuccessByStageCondition",
      "preconditions": [
        {
          "context": {
            "stageName": "Deploy",
            "stageStatus": "SUCCEEDED"
          },
          "failPipeline": true,
          "type": "stageStatus"
        }
      ],
      "refId": "1095",
      "requisiteStageRefIds": [
        "1083"
      ],
      "type": "checkPreconditions"
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failOnFailedExpressions": true,
      "failPipeline": false,
      "name": "EvaluateForFun8",
      "refId": "1097",
      "requisiteStageRefIds": [
        "1095"
      ],
      "type": "evaluateVariables",
      "variables": [
        {
          "key": "deployedServerGroup",
          "value": "${#deployedServerGroups()}"
        },
        {
          "key": "deployedServerGroupName",
          "value": "${deployedServerGroup[0].serverGroup}"
        },
        {
          "key": "includeNew",
          "value": "${alreadyDeployedBeforeRun.toString().contains(deployedServerGroupName)}"
        }
      ]
    },
    {
      "completeOtherBranchesThenFail": false,
      "continuePipeline": false,
      "failPipeline": false,
      "name": "Wait08",
      "refId": "1098",
      "requisiteStageRefIds": [
        "1093"
      ],
      "type": "wait",
      "waitTime": 3
    },
    {
      "name": "Wait18",
      "refId": "1099",
      "requisiteStageRefIds": [
        "1088"
      ],
      "type": "wait",
      "waitTime": 3
    },
    {
      "name": "Wait28",
      "refId": "10100",
      "requisiteStageRefIds": [
        "1089"
      ],
      "type": "wait",
      "waitTime": 30
    }
  ],
  "triggers": []
}
